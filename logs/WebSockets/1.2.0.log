 Resolving package versions...
 Installed IniFile ──────── v0.5.0
 Installed MbedTLS ──────── v0.7.0
 Installed WebSockets ───── v1.5.2
 Installed BinaryProvider ─ v0.5.8
 Installed HTTP ─────────── v0.8.8
  Updating `~/.julia/environments/v1.2/Project.toml`
  [104b5d7c] + WebSockets v1.5.2
  Updating `~/.julia/environments/v1.2/Manifest.toml`
  [b99e7846] + BinaryProvider v0.5.8
  [cd3eb016] + HTTP v0.8.8
  [83e8ac13] + IniFile v0.5.0
  [739be429] + MbedTLS v0.7.0
  [104b5d7c] + WebSockets v1.5.2
  [2a0f44e3] + Base64 
  [ade2ca70] + Dates 
  [8ba89e20] + Distributed 
  [b77e0a4c] + InteractiveUtils 
  [8f399da3] + Libdl 
  [56ddb016] + Logging 
  [d6f4376e] + Markdown 
  [de0858da] + Printf 
  [9a3f8284] + Random 
  [ea8e919c] + SHA 
  [9e88b42a] + Serialization 
  [6462fe0b] + Sockets 
  [8dfed614] + Test 
  [4ec0a83e] + Unicode 
  Building MbedTLS → `~/.julia/packages/MbedTLS/a1JFn/deps/build.log`
   Testing WebSockets
    Status `/tmp/jl_MlCSVL/Manifest.toml`
  [b99e7846] BinaryProvider v0.5.8
  [cd3eb016] HTTP v0.8.8
  [83e8ac13] IniFile v0.5.0
  [739be429] MbedTLS v0.7.0
  [104b5d7c] WebSockets v1.5.2
  [2a0f44e3] Base64  [`@stdlib/Base64`]
  [ade2ca70] Dates  [`@stdlib/Dates`]
  [8ba89e20] Distributed  [`@stdlib/Distributed`]
  [b77e0a4c] InteractiveUtils  [`@stdlib/InteractiveUtils`]
  [8f399da3] Libdl  [`@stdlib/Libdl`]
  [56ddb016] Logging  [`@stdlib/Logging`]
  [d6f4376e] Markdown  [`@stdlib/Markdown`]
  [de0858da] Printf  [`@stdlib/Printf`]
  [9a3f8284] Random  [`@stdlib/Random`]
  [ea8e919c] SHA  [`@stdlib/SHA`]
  [9e88b42a] Serialization  [`@stdlib/Serialization`]
  [6462fe0b] Sockets  [`@stdlib/Sockets`]
  [8dfed614] Test  [`@stdlib/Test`]
  [4ec0a83e] Unicode  [`@stdlib/Unicode`]

Base.Show

WebsocketLogger

Fragment and unit
┌ Info: Provoking close handshake from protocol error without a peer. Waits 10s, 'a reasonable time'.
└  26 s @Main ~/.julia/packages/WebSockets/pc4iW/test/frametest.jl:204

Handshake

Client test
┌ Info: Start server which accepts websocket upgrades including with subprotocol 'xml' and immediately closes, following protocol.
└  53 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:8
┌ Info: Open client without subprotocol.
└  55 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:20
┌ Info: Open client with approved subprotocol.
└  66 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:26
┌ Info: Open with unknown subprotocol.
└  69 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:32
┌ Info: Try to open a websocket with uknown port. Takes a few seconds.
└  72 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:37
┌ Info: Try open with uknown scheme.
└  82 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:48
┌ Info: start a client websocket that irritates by closing the TCP stream
│  connection without a websocket closing handshake. This
│  throws an error in the server coroutine, which can't be
│  captured on the server side.
└  83 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:69
┌ Info: Check that the server is still running regardless.
└  86 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:78
┌ Info: Open with a ws client handler that throws a domain error.
└  88 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:83
┌ Info: Stop the server in morse code.
└  91 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:87
┌ Info: Emulate a correct first accept response from server, with BufferStream socket.
└  93 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:91
┌ Info: Emulate an incorrect first accept response from server.
└  94 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_test.jl:111

Client_listen
┌ Info: Listen: Open, http response, close. Repeat three times. Takes a while.
└  97 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_listen_test.jl:13
Status(1): 200
Status(2): 200
Status(3): 200
┌ Info: Listen: Client side initates message exchange.
└  100 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_listen_test.jl:24
┌ Debug: WebSocket(server, CONNECTED) received OPCODE_PING
└  103 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:378
┌ Debug: WebSocket(client, CONNECTED) received OPCODE_PING
└  103 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:381
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  104 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Info: Listen: Server side initates message exchange.
└  104 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_listen_test.jl:31
┌ Debug: WebSocket(client, CONNECTED) received OPCODE_PING
└  105 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:378
┌ Debug: WebSocket(server, CONNECTED) received OPCODE_PING
└  105 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:381
┌ Debug: WebSocketClosedError("ws|client respond to OPCODE_CLOSE  No reason ")
└  106 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Info: Listen: Server side initates message exchange. Close from within server side handler.
└  106 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_listen_test.jl:38
┌ Debug: WebSocket(client, CONNECTED) received OPCODE_PING
└  106 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:378
┌ Debug: WebSocket(server, CONNECTED) received OPCODE_PING
└  106 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:381
┌ Debug: WebSocketClosedError("ws|client respond to OPCODE_CLOSE 1000:Normal")
└  106 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721

Client_serverWS
┌ Info: External server http request
└  107 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_serverWS_test.jl:28
┌ Info: String to IPAddr conversion
└  107 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_serverWS_test.jl:31
┌ Info: ServerWS: Open, http response, close. Repeat three times. Takes a while.
└  107 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_serverWS_test.jl:37
┌ Info: ServerWS: Client side initates message exchange.
└  108 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_serverWS_test.jl:47
┌ Debug: WebSocket(server, CONNECTED) received OPCODE_PING
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:378
┌ Debug: WebSocket(client, CONNECTED) received OPCODE_PING
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:381
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Info: ServerWS: Server side initates message exchange.
└  109 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_serverWS_test.jl:54
┌ Debug: WebSocket(client, CONNECTED) received OPCODE_PING
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:378
┌ Debug: WebSocket(server, CONNECTED) received OPCODE_PING
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:381
┌ Debug: WebSocketClosedError("ws|client respond to OPCODE_CLOSE  No reason ")
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Info: ServerWS: Server side initates message exchange. Close from within server side handler.
└  109 s @Main ~/.julia/packages/WebSockets/pc4iW/test/client_serverWS_test.jl:61
┌ Debug: WebSocket(client, CONNECTED) received OPCODE_PING
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:378
┌ Debug: WebSocket(server, CONNECTED) received OPCODE_PING
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:381
┌ Debug: WebSocketClosedError("ws|client respond to OPCODE_CLOSE 1000:Normal")
└  109 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721

Abrupt close & error handling
┌ Info: Start a server with a ws handler that is unresponsive. 
│ Close from client side. The  close handshake aborts after 10.0 seconds...
└  110 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:14
1
2
3
4
5
6
7
8
9
┌ Info: Start a server with a ws handler that always reads guarded.
└  122 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:32
10
┌ Info: Attempt to read guarded from a closing ws|client. Check for return false.
└  124 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:44
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  127 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Debug: ErrorException("Attempt to read from closed WebSocket|client. First isopen(ws), or use readguarded(ws)!")
└  128 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Info: Attempt to write guarded from a closing ws|client. Check for return false.
└  129 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:54
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  131 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Debug: Base.IOError("stream is closed or unusable", 0)
└  131 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:681
┌ Info: Attempt to read from closing ws|client. Check caught error.
└  132 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:64
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  135 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Info: Attempt to write to a closing ws|client (this takes some time, there is no check
│       in WebSockets against it). Check caught error.
└  136 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:78
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  139 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  139 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  139 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  140 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
┌ Debug: WebSocketClosedError("ws|server respond to OPCODE_CLOSE  No reason ")
└  147 s @WebSockets ~/.julia/packages/WebSockets/pc4iW/src/WebSockets.jl:721
WebSocketClosedError(" while open ws|client: stream is closed or unusable")┌ Info: Start a server. The wshandler use global channels for inspecting caught errors.
└  148 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:94
┌ Info: Open a ws|client, close it out of protocol. Check server error on channel.
└  152 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:112
┌ Info: Start a server. Errors are output on built-in channel
└  157 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:129
┌ Info: Open a ws|client, close it out of protocol. Check server error on server.out channel.
└  161 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:141
┌ Info: Open ws|clients, close using every status code from RFC 6455 7.4.1
│   Verify error messages on server.out reflect the codes.
└  168 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:163
┌ Info: Closing ws|client with reason 1010 Missing Extension
└  169 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1012 Service Restart
└  173 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1006 Abnormal Closure- reserved
└  174 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1003 Unsupported Data
└  175 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1007 Invalid frame payload data
└  177 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1001 Going Away
└  178 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1009 Message too big
└  179 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1000 Normal
└  181 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1008 Policy Violation
└  182 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1005 No Status Recvd- reserved
└  183 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1013 Try Again Later
└  184 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1004 Reserved
└  186 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1015 TLS Handshake
└  187 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1002 Protocol Error
└  188 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1014 Bad Gateway
└  190 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Closing ws|client with reason 1011 Internal Error
└  191 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:167
┌ Info: Open a ws|client, close it using a status code from RFC 6455 7.4.1
│  and also a custom reason string. Verify error messages on server.out reflect the codes.
└  192 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:186
┌ Info: Closing ws|client with reason1000 Normal and goodbye!
└  194 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:191
┌ Info: Open a ws|client. Throw an InterruptException to it. Check that the ws|server
│  error shows the reason for the close.
└  196 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:200
┌ Info: Trigger check_upgrade WebSocketErrors 
└  209 s @Main ~/.julia/packages/WebSockets/pc4iW/test/error_test.jl:219
Test Summary: | Pass  Total
WebSockets    | 1041   1041
   Testing WebSockets tests passed 
